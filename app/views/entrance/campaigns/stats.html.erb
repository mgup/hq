<script>
  $(function() {
    $('#page_sidebar').next().removeClass('col-sm-9').addClass('col-sm-12');
    $('#page_sidebar').hide();
    $('#return_up').hide();
  });
</script>

<div class="page-header">
  <h2>
    Статистика приёма <%= Entrance::Campaign::CURRENT_YEAR %>
    <span class="nowrap">на <%= l Time.now %></span>
  </h2>
</div>

<style>
  thead tr:nth-child(1) th:nth-child(1),
  thead tr:nth-child(1) th:nth-child(2),
  thead tr:nth-child(2) th:nth-child(1),
  thead tr:nth-child(2) th:nth-child(2),
  thead tr:nth-child(2) th:nth-child(3),
  thead tr:nth-child(2) th:nth-child(4),
  thead tr:nth-child(3) th:nth-child(1),
  thead tr:nth-child(3) th:nth-child(2),
  thead tr:nth-child(3) th:nth-child(3),
  thead tr:nth-child(3) th:nth-child(4),
  thead tr:nth-child(3) th:nth-child(5),
  thead tr:nth-child(3) th:nth-child(6),
  thead tr:nth-child(3) th:nth-child(7),
  thead tr:nth-child(4) th:nth-child(1),
  thead tr:nth-child(4) th:nth-child(2),
  thead tr:nth-child(4) th:nth-child(3),
  thead tr:nth-child(4) th:nth-child(4),
  thead tr:nth-child(5) th:nth-child(6),
  thead tr:nth-child(5) th:nth-child(12),
  thead tr:nth-child(5) th:nth-child(18),
  thead tr:nth-child(5) th:nth-child(24),
  thead tr:nth-child(5) th:nth-child(30),
  thead tr:nth-child(5) th:nth-child(35),
  thead tr:nth-child(5) th:nth-child(40),
  thead tr:nth-child(5) th:nth-child(45),
  thead tr:nth-child(5) th:nth-child(50),
  thead tr:nth-child(5) th:nth-child(55),
  tbody th,
  tbody td:nth-child(1), tbody td:nth-child(7),
  tbody td:nth-child(13), tbody td:nth-child(19),
  tbody td:nth-child(25), tbody td:nth-child(31),
  tbody td:nth-child(36), tbody td:nth-child(41),
  tbody td:nth-child(46), tbody td:nth-child(51),
  tbody td:nth-child(56)
  {
    border-right: 2px solid black !important;
  }
</style>

<table class="table table-condensed table-bordered table-striped">
  <thead>
    <tr>
      <th rowspan="5">Направление</th>
      <th colspan="30">Бюджет</th>
      <th colspan="30">Платный приём</th>
    </tr>
    <tr>
      <th colspan="24">Очная</th>
      <th colspan="6">Очно-заочная</th>

      <th colspan="15">Очная</th>
      <th colspan="10">Очно-заочная</th>
      <th colspan="5">Заочная</th>
    </tr>
    <tr>
      <th colspan="6" rowspan="2">Общий конкурс</th>
      <th colspan="18">Выделенные места</th>
      <th colspan="6" rowspan="2">Общий конкурс</th>

      <th colspan="5" rowspan="2">Общий конкурс</th>
      <th colspan="10">Выделенные места</th>
      <th colspan="5" rowspan="2">Общий конкурс</th>
      <th colspan="5">Выделенные места</th>
      <th colspan="5" rowspan="2">Общий конкурс</th>
    </tr>
    <tr>
      <th colspan="6">Квота особых прав</th>
      <th colspan="6">Квота целевых мест</th>
      <th colspan="6">Квота «Крым»</th>

      <th colspan="5">Квота «Крым»</th>
      <th colspan="5">Иностранцы</th>
      <th colspan="5">Иностранцы</th>
    </tr>
    <tr>
      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с оригиналами">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
      <th><abbr title="Конкурс по оригиналам">F</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с оригиналами">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
      <th><abbr title="Конкурс по оригиналам">F</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с оригиналами">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
      <th><abbr title="Конкурс по оригиналам">F</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с оригиналами">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
      <th><abbr title="Конкурс по оригиналам">F</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с оригиналами">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
      <th><abbr title="Конкурс по оригиналам">F</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>

      <th><abbr title="Всего заявлений">A</abbr></th>
      <th><abbr title="Из них с договором">B</abbr></th>
      <th><abbr title="Всего мест">C</abbr></th>
      <th><abbr title="Из них зачислено">D</abbr></th>
      <th><abbr title="Конкурс">E</abbr></th>
    </tr>
  </thead>
  <tbody>
    <% @directions.each do |direction| %>
      <tr>
        <th>
          <%= direction.description %>
        </th>

        <% [:o_o, :o_quota, :o_target, :o_crimea, :oz_o].each do |group| %>
          <% [:total, :originals, :places, :enrolled, :contest, :contest_by_original].each do |field| %>
            <td><%= @data[direction.description][group][field] if 0 != @data[direction.description][group][field] %></td>
          <% end %>
        <% end %>

        <% [:po_o, :po_crimea, :po_foreign, :poz_o, :poz_foreign, :pz_o].each do |group| %>
          <% [:total, :contracts, :places, :enrolled, :contest].each do |field| %>
            <td><%= @data[direction.description][group][field] if 0 != @data[direction.description][group][field] %></td>
          <% end %>
        <% end %>
      </tr>
    <% end %>
  </tbody>
</table>
